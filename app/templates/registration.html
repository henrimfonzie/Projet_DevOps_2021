{% include 'navbar.html'  %}

    

<div class="container fluid">
    <div class="row">
        <table class="table head center">
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Nom</th>
                <th scope="col">Prénom</th>
                <th scope="col">Role</th>
                <th scope="col">E-mail</th>
                <th scope="col">Modifier</th>
                <th scope="col">Supprimer</th>
            </tr>
            
            {% for user in users %}
                <tr id="members-repeat-container">
                    <td>{{ user.id_user }}</td>
                    <td>{{ user.nom }}</td>
                    <td>{{ user.prenom }}</td>
                    <td>{% if user.role == 1 %} 
                            ADMIN 
                        {% else %}
                            USER
                        {% endif %}
                    </td>
                    <td>{{ user.mail }}</td>
                    <td> <button id="modifier_{{ user.id_user }}" onClick="javascript:modifier({{ user.id_user }})" class="alert-warning">modifier</button></td>
                    <td><button id="supprimer_{{ user.id_user }}" onClick="javascript:supprimer({{ user.id_user }})" class="alert-danger">supprimer</button></td>
                </tr>
            {% endfor %}
        </table>   
    </div>

    <div class="row">
        <input type="button" id="openCreate" onClick="javascript:openCreate()" class="btn-info" value="Ajouter">
    </div>
    

    <div class="wrapper fadeInDown popup" id ="popup_create"style="display:none">
        <div id="formContent">
            <!-- Tabs Titles -->
                    
            <div class="row row_close_create">
                <button id="closeCreate" onClick="javascript:closePopup()" class="btn-close">close</button>
            </div>
            
                <!-- Icon -->
            <div class="fadeIn first2">
                <img src="../static/img/registration.png" id="icon" />
            </div>

            <!-- Login Form -->
            <form method="POST">
                <input type="text" id="nom" class="fadeIn second" name="nom" placeholder="Nom">
                <input type="text" id="prenom" class="fadeIn second" name="prenom" placeholder="Prénom">
                <input type="text" id="email" class="fadeIn second" name="email" placeholder="Email (login)">
                <input type="password" id="password" class="fadeIn third" name="password" placeholder="password">
                <select class="fadeIn third" name="role" id="role-select">
                    <option class="fadeIn third" value="0">Utilisateur</option>
                    
                    {% if user != None %}
                    <option class="fadeIn third" value="1">Administrateur</option>
                    {% endif %}
                </select>
                <input type="submit" class="fadeIn fourth" value="Enregistrer">
            </form>
            
            {% if user == None %}
            <div id="formFooter">
                <a class="underlineHover" href="/">Sign up</a>
            </div>
            
            {% endif %}
        </div>
    </div>
    
</div>


<script>
    function openCreate() {
        var element = document.getElementById("popup_create");
        element.style.display = "block";
    }

    function closePopup() {
        var element = document.getElementById("popup_create");
        element.style.display = "none";
    }

    function modifier(id) {
       alert("modifier : id = " + id);
    }

    function supprimer(id) {
        alert("supprimer : id = " + id);
    }
</script>






<link rel="stylesheet" href="../static/css/home.css">
